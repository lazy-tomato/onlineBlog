<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.53">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="shortcut icon" type="image/x-icon" href="/onlineBlog/images/favicon.ico"><script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?338707764965b0734a54d256624e76ed";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
        </script><title>01.Promise 基础知识 | tomato</title><meta name="description" content="用于记录自己学习笔记的网站。作者：番茄">
    <link rel="preload" href="/onlineBlog/assets/style.73905904.css" as="style" /><link rel="stylesheet" href="/onlineBlog/assets/style.73905904.css" />
    <link rel="modulepreload" href="/onlineBlog/assets/app.acfc35a6.js"><link rel="modulepreload" href="/onlineBlog/assets/01.Promise基础知识.html.a502c55c.js"><link rel="modulepreload" href="/onlineBlog/assets/01.Promise基础知识.html.1ea87007.js"><link rel="prefetch" href="/onlineBlog/assets/index.html.b12671fe.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.e6676d3e.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.2da8cd7f.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.4715091f.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/如何发布一个属于自己的npm包.html.7d17fea8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.初步认识.html.fefdcd86.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.下载安装.html.37c140bc.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.HelloTypeScript.html.6fdf4d49.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.数据类型.html.3facb593.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.数组的类型.html.8977fb51.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.函数的类型.html.20e720d8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.类型断言.html.d9e4cc6e.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.readme.html.cac5831b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.如何理解Html的语义化.html.096d56c4.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.script标签中defer和async的区别.html.a2124b96.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.从浏览器地址栏输入url到请求返回发生了什么.html.3eb6577e.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.css盒子模型.html.884c16ba.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.css选择器和优先级.html.5c693d55.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.重排重绘.html.8aa545b9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.对BFC的理解.html.86c3dbab.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.水平垂直居中多种实现方式.html.b3730779.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/09.line-height如何继承.html.b2bee388.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/end.html.d541a8a5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.说说闭包(高频).html.b9fa7f73.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.说说箭头函数.html.107e2e5b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.说说JS的模块化.html.08474d4c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.说说this.html.8abc2b6b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.说说async和await.html.10180581.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.说说Promise(待完善).html.f069b175.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.深拷贝和浅拷贝的区别(待完善).html.431c93aa.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.比较 typeof instanceof.html.48c4537a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/09.构造函数、原型对象、实例对象三者关系.html.85558f2f.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/10.数组的forEach、map、every、some、filter区别？.html.0d508aa1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/11.怎么理解宏任务和微任务的(待完善).html.79f87c06.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/12.对象方法或者属性的查找规则是怎样的？.html.769ce6c7.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/13.什么是高阶函数.html.f62f3a45.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/14.什么是原型链.html.6fc79caa.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/15.ES6新特性.html.34865af5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/16.let、const、var关键字的区别.html.80ee0313.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/17.JS中数组的常见方法.html.6a3bbcc8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/18.JS中创建对象的几种方式(待完善).html.d4d1f041.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/19.JS中字符串的常见方法(待完善).html.35d07333.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/20.说说export和export default的区别.html.53699f75.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/21.说说call_apply_bind(待完善).html.f8ce0fd7.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/22.谈谈垃圾回收机制及内存管理.html.2ff188f4.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/23.说说ES6中的解构.html.8ab7257b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/24.说说构造函数原型 prototype.html.8c65863b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/25.说说对象原型__proto__.html.c1e79fc7.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/26.JS中的继承(待完善).html.8677798c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/27.手写深拷贝.html.9b26a008.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/28.0.1_0.2不等于0.3.html.897d48e8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/29.new.html.3f223cb8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/30.cookie_localStorage_sessionStorage.html.36702b99.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/31.跨域.html.6be5bb50.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/end.html.8abb58e9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.dbcc8223.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.fd2112ba.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.5262cbdf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.vue中路由传参.html.c262ef97.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.谈谈你对导航守卫的了解.html.37061451.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.谈谈你对MVVM的理解.html.9b1b138c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.说说vue中的生命周期钩子.html.5f6e34d9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.说说Vue的优点.html.19270a19.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.data为什么是一个函数？.html.1d7e47e1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07._.sync_的作用是什么？.html.2c9fe9df.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.computed和watch，methods有什么区别？.html.21acdb85.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/09.事件有哪些修饰符？.html.bfa40e43.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/10.transition.html.5ad21845.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/11.assets和static的区别.html.26c447b1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/12.Vue中性能优化.html.31bba2f3.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/13.优化首屏加载.html.10b467a1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/14.Vue初始化页面闪动问题.html.353afe95.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/15.Vue是如何实现响应式数据的1.html.95772fcf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/16.Vue是如何监听数组的变化1.html.596f0ea6.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/17.Vue的事件绑定原理1.html.c12852ad.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/18.v-model中的实现原理及如何自定义v-model1.html.6994c407.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/19.为什么Vue采用异步渲染1.html.36f15fe5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/20.说说nextTick1.html.736d6249.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/21.Vue的生命周期.html.127cd934.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/22.父子组件生命周期调用顺序.html.c211e192.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/23.Vue组件通信1.html.597cd123.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/24.Vuex 工作原理1.html.be33983d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/25.diff算法1.html.9ecf3286.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/26.v-if 和 v-show 区别1.html.d9231e2a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/27.v-for和v-if为什么不能连用.html.197671e4.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/end.html.e8676c8d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.8e0f9ecf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.http.html.6279ef58.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.常见的状态码.html.714c6204.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.手写instanceof.html.9cb4e50b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.手写Promise.html.4eb679a4.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.手写三种常见排序.html.f6134502.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.手写call_apply_bind.html.a6afb2e1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.手写深拷贝.html.16bfdb5a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.手写new.html.bdb6b3a7.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.手写XMLHttpRequest请求.html.b231984a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.数据类型.html.1c1bba53.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.类型判断.html.febbf8bb.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.typeof.html.bcbebab4.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.instanceof.html.592a2e84.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.Object.prototype.toString.html.9491942b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.执行上下文.html.4e508d33.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.作用域.html.22df41b5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.说说闭包.html.aefe88d8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.说说this.html.3b827846.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.手写call_apply_bind.html.48a40595.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.new.html.80b71628.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/继承.html.4cad860a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.区分进程和线程.html.c3dfdf2d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.浏览器中的进程.html.1690d0c1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.事件循环.html.33f4f6dc.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.宏任务和微任务.html.328fc8bc.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/5.JS执行和DOM渲染的顺序.html.afa1bd34.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/6.vue中的nextTick.html.adf85ab8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/事件循环相关的优质博客.html.c756b12c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/performance.html.0b45b20d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/内存泄露.html.d45ff8b2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/压缩图片.html.484cc651.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/虚拟列表(待完善).html.422d1c3b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/async awiat.html.abe81185.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.相关博客和资源.html.83df8cd5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.XMLHttpRequest.html.a8155cd3.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.状态码.html.6257f284.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.请求头.html.3932c48c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.http缓存(待完善).html.367a2c6b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/5.地址栏输入URL到页面展现都经历了哪些过程.html.f7d3cd9d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.nodejs中nodemon热更新原理.html.069b4164.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.webpack中的hmr热更新.html.792a7c1d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.webpack基础配置.html.0d846abf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/相关博客和资源.html.3c4870fe.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.为什么我复制的中文url粘贴出来会是乱码的？ 浏览器url编码和解码.html.e6ea3ab1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.以.vue结尾的文件中的scoped.html.c48c5184.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.去除项目的console.html.0e901259.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.完全掌握vue中的_set.html.253f2d5a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.时隔多年再学习Vuex，什么？原来如此简单!.html.6bc57bd2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/5.有关Vuex的深度思考.html.0ce4a92c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/6._forceUpdate对应源码是什么，到底如何生效的？.html.41c326a5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/7.axios中如何实现取消请求.html.fcd4cd54.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/8.最新版axios@1.3.x取消请求--AbortController.html.30ab8699.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/9.基础组件库供主项目调用，如何处理-软链接.html.4a919b73.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.Pow(x_ n).html.4ba363b0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.x的平方根.html.3bbb8ec9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.二分查找.html.dba4217c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.两数之和.html.a7284b30.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.找不同.html.8b9cce1d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.两个数组的交集.html.3e581ae0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.滑动窗口最大值.html.bfbfb624.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/辅助文档.html.fa2fcd0c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.阅读-设计模式小册收获总结.html.a74ed725.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/404.html.c3e557d0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.aad29663.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.109f6a86.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.7530fc27.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/index.html.f02c037a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/如何发布一个属于自己的npm包.html.54a3b245.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.初步认识.html.3f20565b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.下载安装.html.ee786478.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.HelloTypeScript.html.5fc6d866.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.数据类型.html.1ac9167e.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.数组的类型.html.44cc57ef.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.函数的类型.html.099a6509.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.类型断言.html.6eb324c5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.readme.html.bfe41c8c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.如何理解Html的语义化.html.da7f14c5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.script标签中defer和async的区别.html.97938f14.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.从浏览器地址栏输入url到请求返回发生了什么.html.7c882a83.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.css盒子模型.html.f75a2a75.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.css选择器和优先级.html.337b8e2a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.重排重绘.html.85b9ec72.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.对BFC的理解.html.7373ffc2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.水平垂直居中多种实现方式.html.986e0549.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/09.line-height如何继承.html.ffab0e06.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/end.html.856325a9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.说说闭包(高频).html.b039a658.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.说说箭头函数.html.6c678396.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.说说JS的模块化.html.92a3edd2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.说说this.html.1db45e09.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.说说async和await.html.7735a859.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.说说Promise(待完善).html.d11b34a0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.深拷贝和浅拷贝的区别(待完善).html.0486dddf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.比较 typeof instanceof.html.3ae93a7a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/09.构造函数、原型对象、实例对象三者关系.html.1c4c44cd.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/10.数组的forEach、map、every、some、filter区别？.html.780bc014.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/11.怎么理解宏任务和微任务的(待完善).html.636ebdcb.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/12.对象方法或者属性的查找规则是怎样的？.html.8975af53.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/13.什么是高阶函数.html.821b05f9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/14.什么是原型链.html.5178fa33.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/15.ES6新特性.html.2cc2d840.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/16.let、const、var关键字的区别.html.8bebc83a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/17.JS中数组的常见方法.html.b2bf4b15.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/18.JS中创建对象的几种方式(待完善).html.0b96e6a1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/19.JS中字符串的常见方法(待完善).html.e6619416.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/20.说说export和export default的区别.html.743235d2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/21.说说call_apply_bind(待完善).html.28944cb2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/22.谈谈垃圾回收机制及内存管理.html.77bf8df2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/23.说说ES6中的解构.html.bd833419.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/24.说说构造函数原型 prototype.html.8f1de458.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/25.说说对象原型__proto__.html.9ee503e5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/26.JS中的继承(待完善).html.a4480218.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/27.手写深拷贝.html.a549566b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/28.0.1_0.2不等于0.3.html.c363d726.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/29.new.html.b995c877.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/30.cookie_localStorage_sessionStorage.html.8ec8372a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/31.跨域.html.9d97dcef.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/end.html.fc63b04d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.5e69032c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.3d86fbe7.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.2581e0bf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.vue中路由传参.html.ac7f695b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.谈谈你对导航守卫的了解.html.0280d2ee.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.谈谈你对MVVM的理解.html.300b9ecd.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.说说vue中的生命周期钩子.html.cacb28a6.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.说说Vue的优点.html.94adf845.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.data为什么是一个函数？.html.7a2fed18.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07._.sync_的作用是什么？.html.7045bdd6.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/08.computed和watch，methods有什么区别？.html.c36c75c9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/09.事件有哪些修饰符？.html.b96c2213.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/10.transition.html.f8a8ec48.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/11.assets和static的区别.html.8ca82281.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/12.Vue中性能优化.html.b3cec1a5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/13.优化首屏加载.html.26fe2efa.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/14.Vue初始化页面闪动问题.html.59ca7fc9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/15.Vue是如何实现响应式数据的1.html.82c088c9.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/16.Vue是如何监听数组的变化1.html.9519a8e0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/17.Vue的事件绑定原理1.html.63573ceb.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/18.v-model中的实现原理及如何自定义v-model1.html.88469404.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/19.为什么Vue采用异步渲染1.html.9850aee7.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/20.说说nextTick1.html.693adf53.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/21.Vue的生命周期.html.8aa0ed67.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/22.父子组件生命周期调用顺序.html.6960c891.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/23.Vue组件通信1.html.bfdc7c03.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/24.Vuex 工作原理1.html.0d0c98b8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/25.diff算法1.html.ac626851.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/26.v-if 和 v-show 区别1.html.720f4ac1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/27.v-for和v-if为什么不能连用.html.407706e5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/end.html.aeb04e1b.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.html.4d004fe8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.http.html.f94d4ec8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.常见的状态码.html.12a393ac.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.手写instanceof.html.555f6e0c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.手写Promise.html.ef6b121f.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.手写三种常见排序.html.70b71a68.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.手写call_apply_bind.html.a7bafa7a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.手写深拷贝.html.61f9e802.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.手写new.html.9b5048f1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.手写XMLHttpRequest请求.html.99316cf5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.数据类型.html.fb416727.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.类型判断.html.27a7b254.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.typeof.html.487c37c5.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.instanceof.html.285b3c4a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.Object.prototype.toString.html.2c501434.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.执行上下文.html.7f343f36.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.作用域.html.b7e8bafa.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.说说闭包.html.9d870793.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.说说this.html.3bd8050a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.手写call_apply_bind.html.24a516fa.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.new.html.742bc991.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/继承.html.22c0aab0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.区分进程和线程.html.65ea1326.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.浏览器中的进程.html.3f2fe3f2.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.事件循环.html.8df416cd.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.宏任务和微任务.html.d798e777.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/5.JS执行和DOM渲染的顺序.html.2ba1dabf.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/6.vue中的nextTick.html.0984dc82.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/事件循环相关的优质博客.html.739022f1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/performance.html.570b76b3.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/内存泄露.html.44fdb823.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/压缩图片.html.457c6d8a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/虚拟列表(待完善).html.7f1be3aa.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/async awiat.html.1ae1ff79.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.相关博客和资源.html.26dbb28f.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.XMLHttpRequest.html.4490d038.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.状态码.html.a4fed1d0.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.请求头.html.d83768b8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.http缓存(待完善).html.4f0b6742.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/5.地址栏输入URL到页面展现都经历了哪些过程.html.36707a4e.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.nodejs中nodemon热更新原理.html.bb03fdeb.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.webpack中的hmr热更新.html.ad8707d1.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.webpack基础配置.html.055194ad.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/相关博客和资源.html.a335db27.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.为什么我复制的中文url粘贴出来会是乱码的？ 浏览器url编码和解码.html.1ec63d98.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.以.vue结尾的文件中的scoped.html.0c6b5285.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/2.去除项目的console.html.5527be3d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/3.完全掌握vue中的_set.html.a25a7b0d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/4.时隔多年再学习Vuex，什么？原来如此简单!.html.4e3b8d71.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/5.有关Vuex的深度思考.html.0b4bd93a.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/6._forceUpdate对应源码是什么，到底如何生效的？.html.87f3f43f.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/7.axios中如何实现取消请求.html.0c99cf3c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/8.最新版axios@1.3.x取消请求--AbortController.html.bf3d5749.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/9.基础组件库供主项目调用，如何处理-软链接.html.c37567f8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/01.Pow(x_ n).html.ef842782.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/02.x的平方根.html.7107269e.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/03.二分查找.html.dfbb968d.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/04.两数之和.html.efb41413.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/05.找不同.html.031af655.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/06.两个数组的交集.html.1696d41c.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/07.滑动窗口最大值.html.f6549d30.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/辅助文档.html.825715ac.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/1.阅读-设计模式小册收获总结.html.46a578a8.js" as="script" /><link rel="prefetch" href="/onlineBlog/assets/404.html.f8cb479a.js" as="script" />
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/onlineBlog/" class=""><img class="logo" src="/onlineBlog/images/logo.png" alt="tomato"><span class="site-name can-hide">tomato</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/onlineBlog/group/" class="" aria-label="成长"><!--[--><!--]--> 成长 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/onlineBlog/up/" class="router-link-active" aria-label="变秃了也变强了"><!--[--><!--]--> 变秃了也变强了 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/lazy-tomato/online" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/onlineBlog/group/" class="" aria-label="成长"><!--[--><!--]--> 成长 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/onlineBlog/up/" class="router-link-active" aria-label="变秃了也变强了"><!--[--><!--]--> 变秃了也变强了 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/lazy-tomato/online" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">01.数据类型 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/01.数据类型/1.数据类型.md" class="sidebar-item" aria-label="1.数据类型"><!--[--><!--]--> 1.数据类型 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">02.类型判断 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/02.类型判断/1.类型判断.md" class="sidebar-item" aria-label="1.类型判断"><!--[--><!--]--> 1.类型判断 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/02.类型判断/2.typeof.md" class="sidebar-item" aria-label="2.typeof"><!--[--><!--]--> 2.typeof <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/02.类型判断/3.instanceof.md" class="sidebar-item" aria-label="3.instanceof"><!--[--><!--]--> 3.instanceof <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/02.类型判断/4.Object.prototype.toString.md" class="sidebar-item" aria-label="4.Object.prototype.toString"><!--[--><!--]--> 4.Object.prototype.toString <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">03.类型转换 <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">04.原型 <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">05.执行上下文 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/05.执行上下文/1.执行上下文.md" class="sidebar-item" aria-label="1.执行上下文"><!--[--><!--]--> 1.执行上下文 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">06.作用域 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/06.作用域/1.作用域.md" class="sidebar-item" aria-label="1.作用域"><!--[--><!--]--> 1.作用域 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">07.闭包 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/07.闭包/01.说说闭包.md" class="sidebar-item" aria-label="01.说说闭包"><!--[--><!--]--> 01.说说闭包 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">08.this <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/08.this/1.说说this.md" class="sidebar-item" aria-label="1.说说this"><!--[--><!--]--> 1.说说this <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">09.call，apply，bind实现 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/09.call，apply，bind实现/04.手写call,apply,bind.md" class="sidebar-item" aria-label="04.手写call,apply,bind"><!--[--><!--]--> 04.手写call,apply,bind <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">10.new <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/10.new/1.new.md" class="sidebar-item" aria-label="1.new"><!--[--><!--]--> 1.new <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">11.class <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">12.继承 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/12.继承/继承.md" class="sidebar-item" aria-label="继承"><!--[--><!--]--> 继承 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">13.迭代器和生成器 <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">14.模块化 <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">15.事件循环 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/15.事件循环/1.区分进程和线程.md" class="sidebar-item" aria-label="1.区分进程和线程"><!--[--><!--]--> 1.区分进程和线程 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/15.事件循环/2.浏览器中的进程.md" class="sidebar-item" aria-label="2.浏览器中的进程"><!--[--><!--]--> 2.浏览器中的进程 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/15.事件循环/3.事件循环.md" class="sidebar-item" aria-label="3.事件循环"><!--[--><!--]--> 3.事件循环 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/15.事件循环/4.宏任务和微任务.md" class="sidebar-item" aria-label="4.宏任务和微任务"><!--[--><!--]--> 4.宏任务和微任务 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/15.事件循环/5.JS执行和DOM渲染的顺序.md" class="sidebar-item" aria-label="5.JS执行和DOM渲染的顺序"><!--[--><!--]--> 5.JS执行和DOM渲染的顺序 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/15.事件循环/6.vue中的nextTick.md" class="sidebar-item" aria-label="6.vue中的nextTick"><!--[--><!--]--> 6.vue中的nextTick <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/15.事件循环/事件循环相关的优质博客.md" class="sidebar-item" aria-label="事件循环相关的优质博客"><!--[--><!--]--> 事件循环相关的优质博客 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">16.性能优化 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/16.性能优化/performance.md" class="sidebar-item" aria-label="performance"><!--[--><!--]--> performance <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/16.性能优化/内存泄露.md" class="sidebar-item" aria-label="内存泄露"><!--[--><!--]--> 内存泄露 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/16.性能优化/压缩图片.md" class="sidebar-item" aria-label="压缩图片"><!--[--><!--]--> 压缩图片 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/16.性能优化/虚拟列表(待完善).md" class="sidebar-item" aria-label="虚拟列表(待完善)"><!--[--><!--]--> 虚拟列表(待完善) <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">17.async和await <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/17.async和await/async awiat.md" class="sidebar-item" aria-label="async awiat"><!--[--><!--]--> async awiat <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">18.Promise <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/18.Promise/01.Promise基础知识.md" class="sidebar-item active" aria-label="01.Promise基础知识"><!--[--><!--]--> 01.Promise基础知识 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/18.Promise/02.手写Promise.js" class="sidebar-item" aria-label="02.手写Promise.js"><!--[--><!--]--> 02.手写Promise.js <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/18.Promise/03.相关博客和资源.md" class="sidebar-item" aria-label="03.相关博客和资源"><!--[--><!--]--> 03.相关博客和资源 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">19.http <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/19.http/1.XMLHttpRequest.md" class="sidebar-item" aria-label="1.XMLHttpRequest"><!--[--><!--]--> 1.XMLHttpRequest <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/19.http/2.状态码.md" class="sidebar-item" aria-label="2.状态码"><!--[--><!--]--> 2.状态码 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/19.http/3.请求头.md" class="sidebar-item" aria-label="3.请求头"><!--[--><!--]--> 3.请求头 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/19.http/4.http缓存(待完善).md" class="sidebar-item" aria-label="4.http缓存(待完善)"><!--[--><!--]--> 4.http缓存(待完善) <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/19.http/5.地址栏输入URL到页面展现都经历了哪些过程.md" class="sidebar-item" aria-label="5.地址栏输入URL到页面展现都经历了哪些过程"><!--[--><!--]--> 5.地址栏输入URL到页面展现都经历了哪些过程 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">20.Webpack <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/20.Webpack/1.nodejs中nodemon热更新原理.md" class="sidebar-item" aria-label="1.nodejs中nodemon热更新原理"><!--[--><!--]--> 1.nodejs中nodemon热更新原理 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/20.Webpack/2.webpack中的hmr热更新.md" class="sidebar-item" aria-label="2.webpack中的hmr热更新"><!--[--><!--]--> 2.webpack中的hmr热更新 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/20.Webpack/3.webpack基础配置.md" class="sidebar-item" aria-label="3.webpack基础配置"><!--[--><!--]--> 3.webpack基础配置 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/20.Webpack/相关博客和资源.md" class="sidebar-item" aria-label="相关博客和资源"><!--[--><!--]--> 相关博客和资源 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">21.Vue <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/21.Vue/1.以.vue结尾的文件中的scoped.md" class="sidebar-item" aria-label="1.以.vue结尾的文件中的scoped"><!--[--><!--]--> 1.以.vue结尾的文件中的scoped <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/2.去除项目的console.md" class="sidebar-item" aria-label="2.去除项目的console"><!--[--><!--]--> 2.去除项目的console <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/3.完全掌握vue中的$set.md" class="sidebar-item" aria-label="3.完全掌握vue中的$set"><!--[--><!--]--> 3.完全掌握vue中的$set <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/4.时隔多年再学习Vuex，什么？原来如此简单!.md" class="sidebar-item" aria-label="4.时隔多年再学习Vuex，什么？原来如此简单!"><!--[--><!--]--> 4.时隔多年再学习Vuex，什么？原来如此简单! <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/5.有关Vuex的深度思考.md" class="sidebar-item" aria-label="5.有关Vuex的深度思考"><!--[--><!--]--> 5.有关Vuex的深度思考 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/6.$forceUpdate对应源码是什么，到底如何生效的？.md" class="sidebar-item" aria-label="6.$forceUpdate对应源码是什么，到底如何生效的？"><!--[--><!--]--> 6.$forceUpdate对应源码是什么，到底如何生效的？ <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/7.axios中如何实现取消请求.md" class="sidebar-item" aria-label="7.axios中如何实现取消请求"><!--[--><!--]--> 7.axios中如何实现取消请求 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/8.最新版axios@1.3.x取消请求--AbortController.md" class="sidebar-item" aria-label="8.最新版axios@1.3.x取消请求--AbortController"><!--[--><!--]--> 8.最新版axios@1.3.x取消请求--AbortController <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/21.Vue/9.基础组件库供主项目调用，如何处理-软链接.md" class="sidebar-item" aria-label="9.基础组件库供主项目调用，如何处理-软链接"><!--[--><!--]--> 9.基础组件库供主项目调用，如何处理-软链接 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">22.javascript相关 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/22.javascript相关/1.为什么我复制的中文url粘贴出来会是乱码的？ 浏览器url编码和解码.md" class="sidebar-item" aria-label="1.为什么我复制的中文url粘贴出来会是乱码的？ 浏览器url编码和解码"><!--[--><!--]--> 1.为什么我复制的中文url粘贴出来会是乱码的？ 浏览器url编码和解码 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">React <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">vite <span class="right arrow"></span></p><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">算法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/算法/01.Pow(x, n).md" class="sidebar-item" aria-label="01.Pow(x, n)"><!--[--><!--]--> 01.Pow(x, n) <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/02.x的平方根.md" class="sidebar-item" aria-label="02.x的平方根"><!--[--><!--]--> 02.x的平方根 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/03.二分查找.md" class="sidebar-item" aria-label="03.二分查找"><!--[--><!--]--> 03.二分查找 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/04.两数之和.md" class="sidebar-item" aria-label="04.两数之和"><!--[--><!--]--> 04.两数之和 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/05.找不同.md" class="sidebar-item" aria-label="05.找不同"><!--[--><!--]--> 05.找不同 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/06.两个数组的交集.md" class="sidebar-item" aria-label="06.两个数组的交集"><!--[--><!--]--> 06.两个数组的交集 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/07.滑动窗口最大值.md" class="sidebar-item" aria-label="07.滑动窗口最大值"><!--[--><!--]--> 07.滑动窗口最大值 <!--[--><!--]--></a><!----></li><li><a href="/onlineBlog/up/算法/辅助文档.md" class="sidebar-item" aria-label="辅助文档"><!--[--><!--]--> 辅助文档 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">设计模式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/onlineBlog/up/设计模式/1.阅读-设计模式小册收获总结.md" class="sidebar-item" aria-label="1.阅读-设计模式小册收获总结"><!--[--><!--]--> 1.阅读-设计模式小册收获总结 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="_01-promise-基础知识" tabindex="-1"><a class="header-anchor" href="#_01-promise-基础知识" aria-hidden="true">#</a> 01.Promise 基础知识</h1><h2 id="start" tabindex="-1"><a class="header-anchor" href="#start" aria-hidden="true">#</a> start</h2><ul><li><code>Promise</code> 中文释义： <em>承诺</em>。</li><li><code>Promise</code> 使用的非常广泛，不仅要掌握，而且还要非常熟练。</li></ul><h2 id="_1-promise-是什么" tabindex="-1"><a class="header-anchor" href="#_1-promise-是什么" aria-hidden="true">#</a> 1.Promise 是什么？</h2><h3 id="_1-1-概念" tabindex="-1"><a class="header-anchor" href="#_1-1-概念" aria-hidden="true">#</a> 1.1 概念</h3><p><code>Promise</code> 是<strong>异步编程</strong>的一种解决方案，比传统的解决方案：<em>&quot;回调函数和事件&quot;</em> 更合理和更强大。所谓 <code>Promise</code>，简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。</p><h3 id="_1-2-粗略的理解一下-promise" tabindex="-1"><a class="header-anchor" href="#_1-2-粗略的理解一下-promise" aria-hidden="true">#</a> 1.2 粗略的理解一下 Promise</h3><p><code>抽象理解</code></p><ul><li><p><code>Promise</code> 是一门新的技术(ES6 规范)</p></li><li><p><code>Promise</code> 是 JS 中进行异步编程的新解决方案</p><blockquote><p>备注：旧方案是单纯使用回调函数</p></blockquote></li></ul><p><code>具体表达</code></p><ul><li>从语法上来说: <code>Promise</code> 是一个构造函数</li><li>从功能上来说: <code>Promise</code> 对象用来封装一个异步操作并可以获取其成功/ 失败的结果值</li></ul><h2 id="_2-为什么要是用-promise" tabindex="-1"><a class="header-anchor" href="#_2-为什么要是用-promise" aria-hidden="true">#</a> 2.为什么要是用 Promise?</h2><h3 id="_2-1-异步编程的常见场景" tabindex="-1"><a class="header-anchor" href="#_2-1-异步编程的常见场景" aria-hidden="true">#</a> 2.1 异步编程的常见场景</h3><ol><li>定时器</li><li><code>ajax</code>请求</li><li><code>nodejs</code>的文件操作模块(fs 模块) ==&gt;读取文件时是异步的。</li></ol><h4 id="_2-1-1-定时器" tabindex="-1"><a class="header-anchor" href="#_2-1-1-定时器" aria-hidden="true">#</a> 2.1.1 定时器</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 浏览器环境</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1.定时器&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1-2-ajax-请求" tabindex="-1"><a class="header-anchor" href="#_2-1-2-ajax-请求" aria-hidden="true">#</a> 2.1.2 ajax 请求</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 浏览器环境</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;http://www.baidu.com&#39;</span><span class="token punctuation">)</span>

xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;2.ajax请求&#39;</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;请求失败: status: &#39;</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1-3-nodejs-中读取文件" tabindex="-1"><a class="header-anchor" href="#_2-1-3-nodejs-中读取文件" aria-hidden="true">#</a> 2.1.3 NodeJs 中读取文件</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// nodejs环境</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;1.promise.md&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果出错 则抛出错误</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
  <span class="token comment">//输出文件内容</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;3.nodejs中读取文件&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-旧的处理方案-单纯使用回调函数" tabindex="-1"><a class="header-anchor" href="#_2-2-旧的处理方案-单纯使用回调函数" aria-hidden="true">#</a> 2.2 旧的处理方案（单纯使用回调函数）</h3><p>**1》**就以读取文件为例，读取文件，然后注册一个回调函数，用以处理读取完文件后的操作。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;1.promise.md&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果出错 则抛出错误</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
  <span class="token comment">//输出文件内容</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**2》**如果希望，在读取完第一个文件之后，再读取第二个文件，依次类推，读取多个文件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 1.读取第一个文件</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;1.promise1.md&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment">// 2.读取第二个文件</span>
  fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;1.promise2.md&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 3.读取第三个文件</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;1.promise3.md&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于需求规定，必须等前一个文件读取完，再读取后一个文件。</p><p>所以目前只能把读取后面文件的代码，写在前一个读取文件的回调函数中。</p><p>**4》**写到这里，有这么几个问题：</p><ol><li><p>演示的代码读取的是三个文件，如果需要读取的文件数量很多怎么办？</p><blockquote><ul><li><p>如果文件数量很多，回调函数中嵌套的大括号，层级会非常多。</p></li><li><p>代码的结构就类似 <code>&gt;</code> 这种结构，这就叫做回调地狱。</p></li></ul></blockquote></li><li><p>如果读取过程中某一个地方出错了，如何快速处理异常？</p></li><li><p>回调函数必须提前写好，不是很方便。</p></li></ol><h3 id="_2-3-为什么使用-promise" tabindex="-1"><a class="header-anchor" href="#_2-3-为什么使用-promise" aria-hidden="true">#</a> 2.3 为什么使用 Promise？</h3><p>**1-**指定回调函数的方式更加灵活</p><ul><li>旧的: 必须在启动异步任务前指定。</li><li><code>Promie</code> : 启动异步任务 =&gt; 返回 <code>Promie</code> 对象 =&gt; 给 <code>Promie</code> 对象绑定回调函数(甚至可以在异步任务结束后指定/多个)。</li></ul><p>**2-**支持链式调用, 可以解决回调地狱问题</p><ul><li>旧的：回调地狱，不便于阅读，不便于异常处理。</li><li><code>Promie</code> 链式调用，来解决回调地狱问题。</li></ul><p><strong>3-</strong><code>async awiat</code></p><ul><li>Promise 只是简单的改变格式，并没有彻底解决上面的问题真正要解决上述问题，<code>promise + async/await</code>实现异步传同步。 <blockquote><p><em><code>async/await</code> 在以后的 <code>await</code>和<code>async</code>的博客再细说。</em></p></blockquote></li></ul><h2 id="_3-promise-怎么用" tabindex="-1"><a class="header-anchor" href="#_3-promise-怎么用" aria-hidden="true">#</a> 3. Promise 怎么用?</h2><h3 id="_3-1-打印一下" tabindex="-1"><a class="header-anchor" href="#_3-1-打印一下" aria-hidden="true">#</a> 3.1 打印一下！</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 打印出来 Promise 它是一个方法，我们换个方式继续打印</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Promise<span class="token punctuation">)</span>

<span class="token comment">// `console.dir` 可以打印一个对象所有的属性和方法。  （ps:由上面的console.log，我们知道它是一个函数。函数本身也是一个特殊的对象，我们打印一下看看它有哪些属性和方法）</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>Promise<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/onlineBlog/assets/image-20221215101216507.42816af2.png" alt="image-20221215101216507"></p><p>①：可以得知 <code>Promise</code> 本身是一个函数； ②：这个函数对象本身有一些自己的方法，例如：（<code>all</code>,<code>race</code>,<code>resolve</code>,<code>reject</code>） ③：它的 <code>portotype</code> (显式原型)上除了默认的 <code>constructor</code>，还有一些独有的方法，例如：(<code>then</code>，<code>catch</code>，<code>finally</code>)</p><h3 id="_3-2-mdn-官网" tabindex="-1"><a class="header-anchor" href="#_3-2-mdn-官网" aria-hidden="true">#</a> 3.2 MDN 官网</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer">MDN 官网-Promise<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_3-3-其他教程" tabindex="-1"><a class="header-anchor" href="#_3-3-其他教程" aria-hidden="true">#</a> 3.3 其他教程</h3><p><a href="https://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener noreferrer">阮一峰的 ES6_Promise 教程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_3-4-开始使用" tabindex="-1"><a class="header-anchor" href="#_3-4-开始使用" aria-hidden="true">#</a> 3.4 开始使用</h3><p>查看了资料，了解了 <code>Promise</code> 的基本用法，现在来动手尝试一下。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ... some code</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment">/* 异步操作成功 */</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>解读一下上面的代码</code></p><ol><li><code>Promise</code> 是一个函数，通过 <code>new</code> 关键词实例化使用。</li><li><code>Promise</code> 实例化时，传入一个<strong>匿名函数</strong>.</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>
  <span class="token comment">// 1. new Promise的时候，传入一个匿名函数</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2.这里面可以做一些逻辑处理 同步异步皆可</span>
    <span class="token comment">// ... some code</span>
    <span class="token comment">// if (/* 异步操作成功 */) {</span>
    <span class="token comment">//     resolve(value);</span>
    <span class="token comment">// } else {</span>
    <span class="token comment">//     reject(error);</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>传入的匿名函数，有两个形参，一个 <code>resolve</code> ，一个 <code>reject</code>。</p><blockquote><ul><li>代码中是如何使用这两个形参的？</li><li>直接在这两个形参后面加了一对括号，加了括号代表执行，也就是说这两个形参是函数。</li><li>这两个函数还可以接受，传入了实参 <code>value</code>、<code>error</code></li></ul></blockquote></li><li><p>那我们把代码改成这样的，去运行一下尝试一下。</p></li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 1. 依据构造函数：Promise,new 一个实例 p</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>
  <span class="token comment">// 2.在 new Promise的时候，传入了一个匿名函数作为参数</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3.匿名函数的参数有什么用，这里执行一下它</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;lazy&#39;</span><span class="token punctuation">)</span>

    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;tomato&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;p是什么：&#39;</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>运行截图</li></ol><p><img src="/onlineBlog/assets/image-20221215101953283.6f23cc88.png" alt="image-20221215101953283"></p><ol start="5"><li>截图中的这个<code>[[PromiseState]]</code>是什么？</li></ol><ul><li><p>双方括号括起来的属性，表示 JS 中的一个内部属性，不能在代码中直接访问。</p></li><li><p><code>[[PromiseState]]</code> 存储的是这个 <code>Promise</code> 实例的状态。</p></li></ul><h3 id="_3-5-p-promise-实例-的状态" tabindex="-1"><a class="header-anchor" href="#_3-5-p-promise-实例-的状态" aria-hidden="true">#</a> 3.5 p(Promise 实例)的状态</h3><p><strong><code>[[PromiseState]]</code> 存储的是这个 <code>Promise</code> 实例的状态。</strong></p><ol><li><p>实例对象 p 中的一个属性 <code>[[PromiseState]]</code>，它的值有三种情况：</p><ol><li><p><code>pending</code> 未决定的；</p></li><li><p><code>resolved</code> / <code>fullfilled</code> 成功；</p></li><li><p><code>rejected</code> 失败；</p></li></ol><blockquote><p><code> State =&gt; 状态</code>，<code>PromiseState=&gt; Promise的状态</code></p></blockquote></li><li><p>实例对象 p(<code>Promise</code> 实例)的状态改变有哪几种情况?</p><ol><li>由默认的 <code>pending</code> 变为 <code>resolved</code></li><li>由默认的 <code>pending</code> 变为 <code>rejected</code><blockquote><ul><li><p>注意 <code>Promise</code>实例的状态，只有这两种情况 。</p></li><li><p>而且 一个 <code>Promise</code> 对象状态只能改变一次，无论变为成功还是失败, 都会有一个结果数据。</p></li><li><p>成功的结果数据一般称为 value, 失败的结果数据一般称为 reason。</p></li></ul></blockquote></li></ol></li><li><p>如何改变实例对象 p(<code>Promise</code> 实例) 的状态 在<code>new Promise()</code>传入的匿名函数中，以下情况，会改变实例对象的状态。</p><ul><li><p>调用<code>resolve(value)</code>: 如果当前状态是 <code>pending</code> 就会变为 <code>resolved</code>；</p></li><li><p>调用<code>reject(reason)</code>: 如果当前状态是 <code>pending</code> 就会变为 <code>rejected；</code></p></li><li><p>抛出异常: 如果当前状态是 <code>pending</code> 就会变为 <code>rejected</code>；</p></li></ul></li></ol><h3 id="_3-6-实例的-then-方法" tabindex="-1"><a class="header-anchor" href="#_3-6-实例的-then-方法" aria-hidden="true">#</a> 3.6 实例的 <code>.then()</code> 方法</h3><p>实例的<code>then</code>方法可以接受两个回调函数作为参数。第一个回调函数是 <code>Promise</code> 对象的状态变为 <code>resolved</code> 时调用，第二个回调函数是 <code>Promise</code> 对象的状态变为 <code>rejected</code> 时调用。</p><h3 id="_3-7-开始使用-promise" tabindex="-1"><a class="header-anchor" href="#_3-7-开始使用-promise" aria-hidden="true">#</a> 3.7 开始使用 Promise</h3><blockquote><p>说了那么多，写一个基本的用法</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 说下执行顺序</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1</span>
  <span class="token comment">// 2</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;lazy&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;tomato&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 实例的状态已经改变了，这里不会再改变状态了</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 1</span>
<span class="token comment">// lazy</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-8-异步下的-promise" tabindex="-1"><a class="header-anchor" href="#_3-8-异步下的-promise" aria-hidden="true">#</a> 3.8 异步下的 Promise</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
  <span class="token comment">// 3 (执行setTimeout)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;tomato&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4</span>
p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span> <span class="token comment">// 6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// hello</span>
<span class="token comment">// &#39;1&#39;  tomato</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-promise-实例上的方法" tabindex="-1"><a class="header-anchor" href="#_4-promise-实例上的方法" aria-hidden="true">#</a> 4.promise 实例上的方法</h2><h3 id="_4-1-then" tabindex="-1"><a class="header-anchor" href="#_4-1-then" aria-hidden="true">#</a> 4.1 then</h3><p><code>代码示例</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;tomato&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 1 tomato</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>注意事项</code></p><blockquote><ol><li><code>then</code>方法可以接受两个回调函数作为参数。 <ul><li>第一个回调函数是 Promise 对象的状态变为<code>resolved</code>时调用；</li><li>第二个回调函数是 Promise 对象的状态变为<code>rejected</code>时调用。</li></ul></li><li>两个函数都是可选的，不一定要提供。</li><li><code>then</code>方法返回的是一个<strong>新的 Promise 实例</strong>。</li><li>绝大多数实际使用的时候，主要处理成功的回调，错误的回调统一由后续的 <code>catch</code> 处理。</li></ol></blockquote><h3 id="_4-2-catch" tabindex="-1"><a class="header-anchor" href="#_4-2-catch" aria-hidden="true">#</a> 4.2 catch</h3><p><code>代码示例</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;tomato&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

p<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// tomato</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>注意事项</code></p><blockquote><ol><li><code>catch</code>方法可以接受一个回调函数作为参数。</li><li>回调函数触发的方式有：</li></ol><ul><li><p><code>Promise</code> 对象的状态变为 <code>rejected</code> 时调用。</p></li><li><p><code>then()</code> 方法指定的回调函数，如果运行中抛出错误，也会被 <code>catch()</code> 方法捕获。</p></li><li><p>new 实例中的匿名函数运行报错，也会进 <code>catch</code>。</p></li></ul><ol start="3"><li><code>catch</code> 方法返回的也是一个<strong>新的 <code>Promise</code> 实例</strong></li></ol></blockquote><h3 id="_4-3-finally" tabindex="-1"><a class="header-anchor" href="#_4-3-finally" aria-hidden="true">#</a> 4.3 finally</h3><p><code>代码</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 1.finally()方法用于指定不管 Promise 对象最后状态如何，都会执行的操作。该方法是 ES2018 引入标准的。</span>
promise
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>···<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>···<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>···<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// finally本质上是then方法的特例。</span>
promise
<span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 语句</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等同于</span>
promise
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 语句</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 语句</span>
    <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-promise-构造函数上的方法" tabindex="-1"><a class="header-anchor" href="#_5-promise-构造函数上的方法" aria-hidden="true">#</a> 5.Promise 构造函数上的方法</h2><h3 id="_1-promise-all" tabindex="-1"><a class="header-anchor" href="#_1-promise-all" aria-hidden="true">#</a> 1. Promise.all()</h3><p>Promise.all()方法用于将多个 Promise 实例，包装成一个新的 Promise 实例。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;4&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上面代码中，Promise.all()方法接受一个数组作为参数，p1、p2、p3 都是 Promise 实例，如果不是，就会先调用下面讲到的 Promise.resolve 方法，将参数转为 Promise 实例，再进一步处理。另外，Promise.all()方法的参数可以不是数组，但必须具有 Iterator 接口，且返回的每个成员都是 Promise 实例。</p><p>p 的状态由 p1、p2、p3 决定，分成两种情况。</p><p>（1）只有 p1、p2、p3 的状态都变成 fulfilled，p 的状态才会变成 fulfilled，此时 p1、p2、p3 的返回值组成一个数组，传递给 p 的回调函数。</p><p>（2）只要 p1、p2、p3 之中有一个被 rejected，p 的状态就变成 rejected，此时第一个被 reject 的实例的返回值，会传递给 p 的回调函数。</p><blockquote><p><strong>简单总结:</strong></p><ol><li>接收有 Iterator 接口的数据作为参数，例如数组。</li><li>参数中的每一项，都是一个 <code>Promise</code> 实例。（不是 <code>Promise</code> 实例的，会被转换为<code>Promise</code> 实例）</li><li>当所有的项都成功的时候，Promise.all() 才返回包含成功数据的一个数组。</li><li>只要有一项失败，Promise.all() 返回失败。</li></ol></blockquote><h3 id="_2-promise-race" tabindex="-1"><a class="header-anchor" href="#_2-promise-race" aria-hidden="true">#</a> 2. Promise.race()</h3><p>Promise.race()方法同样是将多个 Promise 实例，包装成一个新的 Promise 实例。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;request timeout&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Promise.race()方法的参数与 Promise.all()方法一样，如果不是 Promise 实例，就会先调用下面讲到的 Promise.resolve()方法，将参数转为 Promise 实例，再进一步处理。 只要 p1、p2、p3 之中有一个实例率先改变状态，p 的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给 p 的回调函数。</p><blockquote><p><strong>简单总结:</strong></p><ol><li>接收有 Iterator 接口的数据作为参数，例如数组。</li><li>参数中的每一项，都是一个 <code>Promise</code> 实例。（不是 <code>Promise</code> 实例的，会被转换为<code>Promise</code> 实例）</li><li>只要有一项状态改变，Promise.race() 返回对应状态。</li><li><code>race</code> 有竞速的意思，也就是多个异步事件，取返回最快的事件。</li></ol></blockquote><h3 id="_3-promise-allsettled" tabindex="-1"><a class="header-anchor" href="#_3-promise-allsettled" aria-hidden="true">#</a> 3. Promise.allSettled()</h3><p>Promise.all()方法只适合所有异步操作都成功的情况，如果有一个操作失败，就无法满足要求。</p><p>为了解决这个问题，ES2020 引入了 Promise.allSettled()方法，用来确定一组异步操作是否都结束了（不管成功或失败）。所以，它的名字叫做”Settled“，包含了”fulfilled“和”rejected“两种情况。</p><p>返回值的状态只可能为成功;</p><p>返回值的结果呢是根据传递来的数据依次排序的，其次成功则 status=fulfilled，失败则 status=rejected</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">tomato</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span>
  <span class="token comment">/* 
            PromiseState:&#39;fulfilled&#39;
            PromiseResult:[
                {
                    &quot;status&quot;: &quot;fulfilled&quot;,
                    &quot;value&quot;: &quot;2&quot;
                },
                {
                    &quot;status&quot;: &quot;rejected&quot;,
                    &quot;reason&quot;: &quot;error&quot;
                }
            ]
            */</span>
<span class="token punctuation">}</span>

<span class="token function">tomato</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>简单总结:</strong></p><ol><li>接收有 Iterator 接口的数据作为参数，例如数组。</li><li>参数中的每一项，都是一个 <code>Promise</code> 实例。（不是 <code>Promise</code> 实例的，会被转换为<code>Promise</code> 实例）</li><li>当一组 <code>Promise</code> 都执行完毕了，才会返回一个成功的 <code>Pormise</code>，对应值，是包含返回结果的数组，数组有成功也有失败。</li></ol></blockquote><h3 id="_4-promise-any" tabindex="-1"><a class="header-anchor" href="#_4-promise-any" aria-hidden="true">#</a> 4. Promise.any()</h3><p>ES2021 引入了 Promise.any()方法。该方法接受一组 Promise 实例作为参数，包装成一个新的 Promise 实例返回。</p><p>只要参数实例有一个变成 fulfilled 状态，包装实例就会变成 fulfilled 状态；如果所有参数实例都变成 rejected 状态，包装实例就会变成 rejected 状态。</p><p>Promise.any()跟 Promise.race()方法很像，只有一点不同，就是 Promise.any()不会因为某个 Promise 变成 rejected 状态而结束，必须等到所有参数 Promise 变成 rejected 状态才会结束。</p><blockquote><p>取第一个成功的 <code>Promise</code></p></blockquote><h3 id="_5-promise-resolve" tabindex="-1"><a class="header-anchor" href="#_5-promise-resolve" aria-hidden="true">#</a> 5. Promise.resolve()</h3><p>作用:</p><p>将现有对象转为 Promise 对象</p><p>Promise.resolve()方法的参数分成四种情况。</p><p>（1）参数是一个 Promise 实例</p><p>如果参数是 Promise 实例，那么 Promise.resolve 将不做任何修改、原封不动地返回这个实例。</p><p>（2）参数是一个 thenable 对象</p><p>thenable 对象指的是具有 then 方法的对象，比如下面这个对象。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> thenable <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Promise.resolve()方法会将这个对象转为 Promise 对象，然后就立即执行 thenable 对象的 then()方法。</p><p>（3）参数不是具有 then()方法的对象，或根本就不是对象</p><p>如果参数是一个原始值，或者是一个不具有 then()方法的对象，则 Promise.resolve()方法返回一个新的 Promise 对象，状态为 resolved。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">)</span>

p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（4）不带有任何参数 Promise.resolve()方法允许调用时不带参数，直接返回一个 resolved 状态的 Promise 对象。 所以，如果希望得到一个 Promise 对象，比较方便的方法就是直接调用 Promise.resolve()方法。</p><h3 id="_6-promise-reject" tabindex="-1"><a class="header-anchor" href="#_6-promise-reject" aria-hidden="true">#</a> 6. Promise.reject()</h3><p>Promise.reject(reason)方法也会返回一个新的 Promise 实例，该实例的状态为 rejected。 Promise.reject()方法的参数，<strong>会原封不动地作为 reject 的理由，变成后续方法的参数。</strong></p><h2 id="end" tabindex="-1"><a class="header-anchor" href="#end" aria-hidden="true">#</a> end</h2><ul><li>加油</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 6559210+lazy_tomato@user.noreply.gitee.com">tomato</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/onlineBlog/assets/app.acfc35a6.js" defer></script>
  </body>
</html>
